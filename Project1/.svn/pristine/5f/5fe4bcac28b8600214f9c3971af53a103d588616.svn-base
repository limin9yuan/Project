<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.bootdo.timesheet.dao.TimesheetDao">

	<select id="getProjectId" resultType="com.bootdo.project.domain.ProjectDO">
		select `Project_Owner`,`Project_Description`,`Project_Name`,`Customer_ID`,`Employee_Name`,`Project_Gategory`

		from development_project a
		left join inner_org_employee b
		on
		a.Project_Owner=b.Employee_ID
		where Project_ID = #{value}


	</select>
	<select id="get" resultType="com.bootdo.timesheet.domain.TimesheetDO">
		select `TimeSheet_ID`,`Project_ID`,`Employee_ID`,`TimeSheet_Name`,`TimeSheet_Project_Cagegory`,`TimeSheet_Date`,`TimeSheet_PM`,`TimeSheet_Normal`,`TimeSheet_Overtime`,`TimeSheet_Approved`,`TimeSheet_Planned`,`TimeSheet_Plan`,`TimeSheet_Content`,`TimeSheet_Problem`,`TimeSheet_Assignment_ID`,`TimeSheet_Approval_Status`,`TimeSheet_Operate_Time`

		from timesheet



		where TimeSheet_ID = #{value}
	</select>
	<select id="list" resultType="com.bootdo.timesheet.domain.TimesheetDO">



		select d.Project_ID,b.Project_Name,d.Assignment_Task_Name,

		id_date1,content_date1,normal_date1,over_date1,
		id_date2,content_date2,normal_date1,over_date2,
		id_date3,content_date3,normal_date1,over_date3,
		id_date4,content_date4,normal_date1,over_date4,
		id_date5,content_date5,normal_date1,over_date5,
		id_date6,content_date6,normal_date1,over_date6,
		id_date7,content_date7,normal_date1,over_date7
		from
		approval_assignment d

		left join (
		select a.Project_ID,a.TimeSheet_Assignment_ID,
		max(id_date1)  id_date1,
		max(content_date1) content_date1,
		max(normal_date1) normal_date1,
		max(over_date1) over_date1,

		max(id_date2)  id_date2,
		max(content_date2) content_date2,
		max(normal_date2) normal_date2,
		max(over_date2) over_date2,

		max(id_date3)  id_date3,
		max(content_date3) content_date3,
		max(normal_date3) normal_date3,
		max(over_date3) over_date3,

		max(id_date4)  id_date4,
		max(content_date4) content_date4,
		max(normal_date4) normal_date4,
		max(over_date4) over_date4,

		max(id_date5)  id_date5,
		max(content_date5) content_date5,
		max(normal_date5) normal_date5,
		max(over_date5) over_date5,

		max(id_date6)  id_date6,
		max(content_date6) content_date6,
		max(normal_date6) normal_date6,
		max(over_date6) over_date6,

		max(id_date7)  id_date7,
		max(content_date7) content_date7,
		max(normal_date7) normal_date7,
		max(over_date7) over_date7



		from
		(select a.Project_ID,a.TimeSheet_Assignment_ID,

		case when TimeSheet_Date=#{date1} then TimeSheet_ID else '' end id_date1,
		case when TimeSheet_Date=#{date1} then TimeSheet_Content else '' end content_date1,
		case when TimeSheet_Date=#{date1} then TimeSheet_Normal else '' end normal_date1,
		case when TimeSheet_Date=#{date1} then TimeSheet_Overtime else '' end over_date1,


		case when TimeSheet_Date=#{date2} then TimeSheet_ID else '' end id_date2,
		case when TimeSheet_Date=#{date2} then TimeSheet_Content else '' end content_date2,
		case when TimeSheet_Date=#{date2} then TimeSheet_Normal else '' end normal_date2,
		case when TimeSheet_Date=#{date2} then TimeSheet_Overtime else '' end over_date2,

		case when TimeSheet_Date=#{date3} then TimeSheet_ID else '' end id_date3,
		case when TimeSheet_Date=#{date3} then TimeSheet_Content else '' end content_date3,
		case when TimeSheet_Date=#{date3} then TimeSheet_Normal else '' end normal_date3,
		case when TimeSheet_Date=#{date3}then TimeSheet_Overtime else '' end over_date3,

		case when TimeSheet_Date=#{date4} then TimeSheet_ID else '' end id_date4,
		case when TimeSheet_Date=#{date4} then TimeSheet_Content else '' end content_date4,
		case when TimeSheet_Date=#{date4} then TimeSheet_Normal else '' end normal_date4,
		case when TimeSheet_Date=#{date4} then TimeSheet_Overtime else '' end over_date4,

		case when TimeSheet_Date=#{date5} then TimeSheet_ID else '' end id_date5,
		case when TimeSheet_Date=#{date5}  then TimeSheet_Content else '' end content_date5,
		case when TimeSheet_Date=#{date5}  then TimeSheet_Normal else '' end normal_date5,
		case when TimeSheet_Date=#{date5} then TimeSheet_Overtime else '' end over_date5,

		case when TimeSheet_Date=#{date6}  then TimeSheet_ID else '' end id_date6,
		case when TimeSheet_Date=#{date6}then TimeSheet_Content else '' end content_date6,
		case when TimeSheet_Date=#{date6} then TimeSheet_Normal else '' end normal_date6,
		case when TimeSheet_Date=#{date6} then TimeSheet_Overtime else '' end over_date6,

		case when TimeSheet_Date=#{date7} then TimeSheet_ID else '' end id_date7,
		case when TimeSheet_Date=#{date7} then TimeSheet_Content else '' end content_date7,
		case when TimeSheet_Date=#{date7} then TimeSheet_Normal else '' end normal_date7,
		case when TimeSheet_Date=#{date7}then TimeSheet_Overtime else '' end over_date7

		from timesheet a

		<where>

			<if test="userId != null and userId != ''"> and Employee_ID = #{userId} </if>
			<if test="timesheetId != null and timesheetId != ''"> and TimeSheet_ID = #{timesheetId} </if>
			<if test="projectId != null and projectId != ''"> and  Project_ID = #{projectId}</if>
			<if test="projectName != null and projectName != ''"> and   Project_Name= #{projectName}</if>

		  		</where>

		) a  group by a.Project_ID,TimeSheet_Assignment_ID) tim on d.Project_ID=tim.Project_ID and d.Assignment_ID = tim.TimeSheet_Assignment_ID
		left JOIN development_project b on (d.Project_ID=b.Project_ID ) where d.Is_Task=#{istask}
		<where>

		<if test="userId != null and userId != ''"> and d.assignment_Recipient = #{userId} </if>
			<if test="project != null and project != ''"> and  d.Project_ID = #{project}</if>
		</where>




		<choose>
            <when test="sort != null and sort.trim() != ''">
                order by ${sort} ${order}
            </when>
			<otherwise>
                order by Project_Name desc
			</otherwise>
        </choose>
		<if test="offset != null and limit != null">
			limit #{offset}, #{limit}
		</if>
	</select>

	<select id="approvelist" resultType="com.bootdo.timesheet.domain.TimesheetDO">



		select d.Project_ID,b.Project_Name,d.Assignment_Task_Name,

		id_date1,content_date1,normal_date1,over_date1,
		id_date2,content_date2,normal_date1,over_date2,
		id_date3,content_date3,normal_date1,over_date3,
		id_date4,content_date4,normal_date1,over_date4,
		id_date5,content_date5,normal_date1,over_date5,
		id_date6,content_date6,normal_date1,over_date6,
		id_date7,content_date7,normal_date1,over_date7
		from
		approval_assignment d

		left join (
		select a.Project_ID,a.TimeSheet_Assignment_ID,
		max(id_date1)  id_date1,
		max(content_date1) content_date1,
		max(normal_date1) normal_date1,
		max(over_date1) over_date1,

		max(id_date2)  id_date2,
		max(content_date2) content_date2,
		max(normal_date2) normal_date2,
		max(over_date2) over_date2,

		max(id_date3)  id_date3,
		max(content_date3) content_date3,
		max(normal_date3) normal_date3,
		max(over_date3) over_date3,

		max(id_date4)  id_date4,
		max(content_date4) content_date4,
		max(normal_date4) normal_date4,
		max(over_date4) over_date4,

		max(id_date5)  id_date5,
		max(content_date5) content_date5,
		max(normal_date5) normal_date5,
		max(over_date5) over_date5,

		max(id_date6)  id_date6,
		max(content_date6) content_date6,
		max(normal_date6) normal_date6,
		max(over_date6) over_date6,

		max(id_date7)  id_date7,
		max(content_date7) content_date7,
		max(normal_date7) normal_date7,
		max(over_date7) over_date7



		from
		(select a.Project_ID,a.TimeSheet_Assignment_ID,

		case when TimeSheet_Date=#{date1} then TimeSheet_ID else '' end id_date1,
		case when TimeSheet_Date=#{date1} then TimeSheet_Content else '' end content_date1,
		case when TimeSheet_Date=#{date1} then TimeSheet_Normal else '' end normal_date1,
		case when TimeSheet_Date=#{date1} then TimeSheet_Overtime else '' end over_date1,


		case when TimeSheet_Date=#{date2} then TimeSheet_ID else '' end id_date2,
		case when TimeSheet_Date=#{date2} then TimeSheet_Content else '' end content_date2,
		case when TimeSheet_Date=#{date2} then TimeSheet_Normal else '' end normal_date2,
		case when TimeSheet_Date=#{date2} then TimeSheet_Overtime else '' end over_date2,

		case when TimeSheet_Date=#{date3} then TimeSheet_ID else '' end id_date3,
		case when TimeSheet_Date=#{date3} then TimeSheet_Content else '' end content_date3,
		case when TimeSheet_Date=#{date3} then TimeSheet_Normal else '' end normal_date3,
		case when TimeSheet_Date=#{date3}then TimeSheet_Overtime else '' end over_date3,

		case when TimeSheet_Date=#{date4} then TimeSheet_ID else '' end id_date4,
		case when TimeSheet_Date=#{date4} then TimeSheet_Content else '' end content_date4,
		case when TimeSheet_Date=#{date4} then TimeSheet_Normal else '' end normal_date4,
		case when TimeSheet_Date=#{date4} then TimeSheet_Overtime else '' end over_date4,

		case when TimeSheet_Date=#{date5} then TimeSheet_ID else '' end id_date5,
		case when TimeSheet_Date=#{date5}  then TimeSheet_Content else '' end content_date5,
		case when TimeSheet_Date=#{date5}  then TimeSheet_Normal else '' end normal_date5,
		case when TimeSheet_Date=#{date5} then TimeSheet_Overtime else '' end over_date5,

		case when TimeSheet_Date=#{date6}  then TimeSheet_ID else '' end id_date6,
		case when TimeSheet_Date=#{date6}then TimeSheet_Content else '' end content_date6,
		case when TimeSheet_Date=#{date6} then TimeSheet_Normal else '' end normal_date6,
		case when TimeSheet_Date=#{date6} then TimeSheet_Overtime else '' end over_date6,

		case when TimeSheet_Date=#{date7} then TimeSheet_ID else '' end id_date7,
		case when TimeSheet_Date=#{date7} then TimeSheet_Content else '' end content_date7,
		case when TimeSheet_Date=#{date7} then TimeSheet_Normal else '' end normal_date7,
		case when TimeSheet_Date=#{date7}then TimeSheet_Overtime else '' end over_date7

		from timesheet a

		<where>

			<if test="userId != null and userId != ''"> and Employee_ID = #{userId} </if>
			<if test="timesheetId != null and timesheetId != ''"> and TimeSheet_ID = #{timesheetId} </if>
			<if test="projectId != null and projectId != ''"> and  Project_ID = #{projectId}</if>
			<if test="projectName != null and projectName != ''"> and   Project_Name= #{projectName}</if>

		</where>

		) a  group by a.Project_ID,TimeSheet_Assignment_ID) tim on d.Project_ID=tim.Project_ID and d.Assignment_ID = tim.TimeSheet_Assignment_ID
		left JOIN development_project b on d.Project_ID=b.Project_ID
		<where>

			<if test="userId != null and userId != ''"> and d.assignment_Recipient = #{userId} </if>
			<if test="project != null and project != ''"> and  d.Project_ID = #{project}</if>
		</where>




		<choose>
			<when test="sort != null and sort.trim() != ''">
				order by ${sort} ${order}
			</when>
			<otherwise>
				order by Project_Name desc
			</otherwise>
		</choose>
		<if test="offset != null and limit != null">
			limit #{offset}, #{limit}
		</if>
	</select>


 	<select id="count" resultType="int">
		select count(*) from (select Project_ID from
		(select b.Project_Name,c.Business_Name,a.Project_ID,

		case when TimeSheet_Date=#{date1} then TimeSheet_ID else '' end id_date1,
		case when TimeSheet_Date=#{date1} then TimeSheet_Content else '' end content_date1,
		case when TimeSheet_Date=#{date1} then TimeSheet_Normal else '' end normal_date1,
		case when TimeSheet_Date=#{date1} then TimeSheet_Overtime else '' end over_date1,


		case when TimeSheet_Date=#{date2} then TimeSheet_ID else '' end id_date2,
		case when TimeSheet_Date=#{date2} then TimeSheet_Content else '' end content_date2,
		case when TimeSheet_Date=#{date2} then TimeSheet_Normal else '' end normal_date2,
		case when TimeSheet_Date=#{date2} then TimeSheet_Overtime else '' end over_date2,

		case when TimeSheet_Date=#{date3} then TimeSheet_ID else '' end id_date3,
		case when TimeSheet_Date=#{date3} then TimeSheet_Content else '' end content_date3,
		case when TimeSheet_Date=#{date3} then TimeSheet_Normal else '' end normal_date3,
		case when TimeSheet_Date=#{date3} then TimeSheet_Overtime else '' end over_date3,

		case when TimeSheet_Date=#{date4} then TimeSheet_ID else '' end id_date4,
		case when TimeSheet_Date=#{date4} then TimeSheet_Content else '' end content_date4,
		case when TimeSheet_Date=#{date4} then TimeSheet_Normal else '' end normal_date4,
		case when TimeSheet_Date=#{date4} then TimeSheet_Overtime else '' end over_date4,

		case when TimeSheet_Date=#{date5} then TimeSheet_ID else '' end id_date5,
		case when TimeSheet_Date=#{date5}  then TimeSheet_Content else '' end content_date5,
		case when TimeSheet_Date=#{date5}  then TimeSheet_Normal else '' end normal_date5,
		case when TimeSheet_Date=#{date5}  then TimeSheet_Overtime else '' end over_date5,

		case when TimeSheet_Date=#{date6}  then TimeSheet_ID else '' end id_date6,
		case when TimeSheet_Date=#{date6} then TimeSheet_Content else '' end content_date6,
		case when TimeSheet_Date=#{date6} then TimeSheet_Normal else '' end normal_date6,
		case when TimeSheet_Date=#{date6} then TimeSheet_Overtime else '' end over_date6,

		case when TimeSheet_Date=#{date7} then TimeSheet_ID else '' end id_date7,
		case when TimeSheet_Date=#{date7} then TimeSheet_Content else '' end content_date7,
		case when TimeSheet_Date=#{date7} then TimeSheet_Normal else '' end normal_date7,
		case when TimeSheet_Date=#{date7} then TimeSheet_Overtime else '' end over_date7




		from timesheet a
		left join development_project b ON a.Project_ID=b.Project_ID
		left join  sales_business c ON  b.Customer_ID=c.Customer_ID

		<where>
			<if test="userId != null and userId != ''"> and Employee_ID = #{userId} </if>
			<if test="timesheetId != null and timesheetId != ''"> and TimeSheet_ID = #{timesheetId} </if>
			<!--<if test="date1 != null and date1 != ''"> and TimeSheet_Date &gt;=#{date1}  </if>-->
			<if test="content_date7 != null and content_date7 != ''"> and content_date7 = #{contentDate7} </if>
			<if test="content_date6 != null and content_date6 != ''"> and content_date6 = #{contentDate6} </if>
			<if test="content_date5 != null and content_date5 != ''"> and content_date5 = #{contentDate5} </if>
			<if test="content_date4 != null and content_date4 != ''"> and content_date4 = #{contentDate4} </if>
			<if test="content_date3 != null and content_date3 != ''"> and content_date3 = #{contentDate3} </if>
			<if test="content_date2 != null and content_date2 != ''"> and content_date2 = #{contentDate2} </if>
			<if test="content_date1 != null and content_date1 != ''"> and content_date1 = #{contentDate1} </if>

			<if test="normal_date1 != null and normal_date1 != ''"> and normal_date1 = #{normalDate1} </if>
			<if test="normal_date2 != null and normal_date2 != ''"> and normal_date2 = #{normalDate2} </if>
			<if test="normal_date3 != null and normal_date3 != ''"> and normal_date3 = #{normalDate3} </if>
			<if test="normal_date4 != null and normal_date4 != ''"> and normal_date4 = #{normalDate4} </if>
			<if test="normal_date5 != null and normal_date5 != ''"> and normal_date5 = #{normalDate5} </if>
			<if test="normal_date6 != null and normal_date6 != ''"> and normal_date6 = #{normalDate6} </if>
			<if test="normal_date7 != null and normal_date7 != ''"> and normal_date7 = #{normalDate7} </if>

			<if test="over_date1 != null and over_date1 != ''"> and over_date1 = #{overDate1} </if>
			<if test="over_date2 != null and over_date2 != ''"> and over_date2 = #{overDate2} </if>
			<if test="over_date3 != null and over_date3 != ''"> and over_date3 = #{overDate3} </if>
			<if test="over_date4 != null and over_date4 != ''"> and over_date4 = #{overDate4} </if>
			<if test="over_date5 != null and over_date5 != ''"> and over_date5 = #{overDate5} </if>
			<if test="over_date6 != null and over_date6 != ''"> and over_date6 = #{overDate6} </if>
			<if test="over_date7 != null and over_date7 != ''"> and over_date7 = #{overDate7} </if>

			<if test="id_date1 != null and id_date1 != ''"> and id_date1 = #{idDate1} </if>
			<if test="id_date2 != null and id_date2 != ''"> and id_date2 = #{idDate2} </if>
			<if test="id_date3 != null and id_date3 != ''"> and id_date3 = #{idDate3} </if>
			<if test="id_date4 != null and id_date4 != ''"> and id_date4 = #{idDate4} </if>
			<if test="id_date5 != null and id_date5 != ''"> and id_date5 = #{idDate5} </if>
			<if test="id_date6 != null and id_date6 != ''"> and id_date6 = #{idDate6} </if>
			<if test="id_date7 != null and id_date7 != ''"> and id_date7 = #{idDate7} </if>

			<!--<if test="date7 != null and date7 != ''"> and TimeSheet_Date&lt;=#{date7}  </if>-->
			<if test="projectId != null and projectId != ''"> and   Project_ID= #{projectId}</if>
			<if test="projectName != null and projectName != ''"> and   Project_Name= #{projectName}</if>
			<if test="project != null and project != ''"> and a.Project_ID = #{project}</if>

			<if test="employeeId != null and employeeId != ''"> and Employee_ID = #{employeeId} </if>
			<if test="timesheetName != null and timesheetName != ''"> and TimeSheet_Name = #{timesheetName} </if>
			<if test="timesheetProjectCagegory != null and timesheetProjectCagegory != ''"> and TimeSheet_Project_Cagegory = #{timesheetProjectCagegory} </if>
			<if test="timesheetDate != null and timesheetDate != ''"> and TimeSheet_Date = #{timesheetDate} </if>
			<if test="timesheetPm != null and timesheetPm != ''"> and TimeSheet_PM = #{timesheetPm} </if>
			<if test="timesheetNormal != null and timesheetNormal != ''"> and TimeSheet_Normal = #{timesheetNormal} </if>
			<if test="timesheetOvertime != null and timesheetOvertime != ''"> and TimeSheet_Overtime = #{timesheetOvertime} </if>
			<if test="timesheetApproved != null and timesheetApproved != ''"> and TimeSheet_Approved = #{timesheetApproved} </if>
			<if test="timesheetPlanned != null and timesheetPlanned != ''"> and TimeSheet_Planned = #{timesheetPlanned} </if>
			<if test="timesheetPlan != null and timesheetPlan != ''"> and TimeSheet_Plan = #{timesheetPlan} </if>
			<if test="timesheetContent != null and timesheetContent != ''"> and TimeSheet_Content = #{timesheetContent} </if>
			<if test="timesheetProblem != null and timesheetProblem != ''"> and TimeSheet_Problem = #{timesheetProblem} </if>
			<if test="timesheetAssignmentId != null and timesheetAssignmentId != ''"> and TimeSheet_Assignment_ID = #{timesheetAssignmentId} </if>
			<if test="timesheetApprovalStatus != null and timesheetApprovalStatus != ''"> and TimeSheet_Approval_Status = #{timesheetApprovalStatus} </if>
			<if test="businessName != null and businessName != ''"> and Business_Name = #{businessName} </if>
			<!--<if test="timeMin != null and timeMin != ''"> and TimeSheet_Date&gt;= #{timeMin}</if>-->
			<!--<if test="timeMax != null and timeMax != ''"> and TimeSheet_Date&lt;= #{timeMax}</if>-->


		</where>
		) a
		group by Project_ID,Project_Name)a
	</select>
	<insert id="save" parameterType="com.bootdo.timesheet.domain.TimesheetDO"
			useGeneratedKeys="true" keyProperty="timesheetId">

		insert into timesheet
 		(

			`TimeSheet_ID`,
		    `Project_ID`,
			`Employee_ID`, 
			`TimeSheet_Name`, 
			`TimeSheet_Project_Cagegory`, 
			`TimeSheet_Date`,
			`TimeSheet_PM`, 
			`TimeSheet_Normal`, 
			`TimeSheet_Overtime`, 
			`TimeSheet_Approved`, 
			`TimeSheet_Planned`, 
			`TimeSheet_Plan`, 
			`TimeSheet_Content`, 
			`TimeSheet_Problem`, 
			`TimeSheet_Assignment_ID`, 
			`TimeSheet_Approval_Status`, 
			`TimeSheet_Operate_Time`

		)

		value(

		    #{timesheetId},
			#{projectId},
			#{employeeId},
			#{timesheetName},
			#{timesheetProjectCagegory},
		    #{timesheetDate},
			#{timesheetPm},

			#{timesheetNormal},
			#{timesheetOvertime},
			#{timesheetApproved},
			#{timesheetPlanned},
			#{timesheetPlan},
			#{timesheetContent},
			#{timesheetProblem},
			#{timesheetAssignmentId},
			#{timesheetApprovalStatus},
			#{timesheetOperateTime}
		)


	</insert>
	<insert id="save1" parameterType="com.bootdo.timesheet.domain.TimesheetDO"
			useGeneratedKeys="true" keyProperty="timesheetId">

		insert into timesheet
		(

		`TimeSheet_ID`,
		`Project_ID`,
		`Employee_ID`,
		`TimeSheet_Name`,
		`TimeSheet_Project_Cagegory`,
		`TimeSheet_Date`,
		`TimeSheet_PM`,
		`TimeSheet_Normal`,
		`TimeSheet_Overtime`,
		`TimeSheet_Approved`,
		`TimeSheet_Planned`,
		`TimeSheet_Plan`,
		`TimeSheet_Content`,
		`TimeSheet_Problem`,
		`TimeSheet_Assignment_ID`,
		`TimeSheet_Approval_Status`,
		`TimeSheet_Operate_Time`

		)

		value(

		#{timesheetId},
		#{projectId},
		#{employeeId},
		#{timesheetName},
		#{timesheetProjectCagegory},
		#{timesheetDate},
		#{timesheetPm},

		#{timesheetNormal},
		#{timesheetOvertime},
		#{timesheetApproved},
		#{timesheetPlanned},
		#{timesheetPlan},
		#{timesheetContent},
		#{timesheetProblem},
		#{timesheetAssignmentId},
		#{timesheetApprovalStatus},
		#{timesheetOperateTime}
		)


	</insert>
	<select id="listDic" resultType="com.bootdo.timesheet.domain.TimesheetDO">
		select Project_ID value,concat(Project_ID,' ',TimeSheet_PM) name from timesheet
	</select>

	<update id="update" parameterType="com.bootdo.timesheet.domain.TimesheetDO">
		update timesheet
		<set>




			<if test="employeeId != null">`Employee_ID` = #{employeeId}, </if>
			<if test="projectId">`Project_ID` = #{projectId},</if>
			<if test="timesheetName != null">`TimeSheet_Name` = #{timesheetName}, </if>
			<if test="timesheetProjectCagegory != null">`TimeSheet_Project_Cagegory` = #{timesheetProjectCagegory}, </if>
			<if test="timesheetDate != null">`TimeSheet_Date` = #{timesheetDate}, </if>
			<if test="timesheetPm != null">`TimeSheet_PM` = #{timesheetPm}, </if>
			<if test="timesheetNormal != null">`TimeSheet_Normal` = #{timesheetNormal}, </if>
			<if test="timesheetOvertime != null">`TimeSheet_Overtime` = #{timesheetOvertime}, </if>
			<if test="timesheetApproved != null">`TimeSheet_Approved` = #{timesheetApproved}, </if>
			<if test="timesheetPlanned != null">`TimeSheet_Planned` = #{timesheetPlanned}, </if>
			<if test="timesheetPlan != null">`TimeSheet_Plan` = #{timesheetPlan}, </if>
			<if test="timesheetContent != null">`TimeSheet_Content` = #{timesheetContent}, </if>
			<if test="timesheetProblem != null">`TimeSheet_Problem` = #{timesheetProblem}, </if>
			<if test="timesheetAssignmentId != null">`TimeSheet_Assignment_ID` = #{timesheetAssignmentId}, </if>
			<if test="timesheetApprovalStatus != null">`TimeSheet_Approval_Status` = #{timesheetApprovalStatus}, </if>
			<if test="timesheetOperateTime != null">`TimeSheet_Operate_Time` = #{timesheetOperateTime}，</if>
			<if test="processInstanceId != null">`PROCESS_INSTANCE_ID` = #{processInstanceId}</if>
		</set>
		where TimeSheet_ID = #{timesheetId}
	</update>
	
	<delete id="remove">
		delete from timesheet where TimeSheet_ID = #{value}
	</delete>
	
	<delete id="batchRemove">
		delete from timesheet where TimeSheet_ID in 
		<foreach item="timesheetId" collection="array" open="(" separator="," close=")">
			#{timesheetId}
		</foreach>
	</delete>

</mapper>