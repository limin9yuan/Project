<!DOCTYPE html>
<html>
<meta charset="utf-8">
<head th:include="include :: header">
<meta name="keywords" content="">
<meta name="description" content="">
<link rel="shortcut icon" href="favicon.ico">
<link href="/css/bootstrap.min.css?v=3.3.6" rel="stylesheet">
<link href="/css/font-awesome.css?v=4.4.0" rel="stylesheet">
<link href="/css/animate.css" rel="stylesheet">
<link href="/css/layui.css" rel="stylesheet">
<link href="/css/style.css?v=4.1.0" rel="stylesheet">
</head>
<style type="text/css">
th {
	text-align: center; /** 设置水平方向居中 */
	vertical-align: middle /** 设置垂直方向居中 */
}

input {
	color: transparent;
	text-shadow: 0 0 0 #000;
}
</style>
<body class="gray-bg">
	<div class="wrapper wrapper-content " >

		<div class="row">

			<!-- **********************右侧应收信息、相关信息、费用信息、联系人信息块*********************************************** -->
			<div style="float: right; width: 25%; padding-top: 10px"
				class="col-sm-3">
				<div class="columns pull-right" style="padding-bottom: 20px">
					<button shiro:hasPermission="sales:companyCustomer:edit"
						type="button" class="btn  btn-primary"
						onclick="examineCustomerEdit()">
						<i class="fa fa-edit" aria-hidden="true"></i>修改
					</button>
					<button shiro:hasPermission="sales:companyCustomer:batchRemove"
						type="button" class="btn  btn-danger" onclick="examineRemove()">
						<i class="fa fa-trash" aria-hidden="true"></i>删除
					</button>
					<button type="button" class="btn btn-primary" onclick="closeWin()">关闭</button>
				</div>

				<div class="ibox ibox-body">
					<ol style="list-style-type: none; padding: 0px">
						<li>
							<div class="ibox-title">
								<h3>
									<i class="glyphicon glyphicon-inbox"></i>应收信息
								</h3>
							</div> <!-- 							<div class="fixed-table-toolbar"> --> <!-- 									<table id="yingShouTable" data-mobile-responsive="true"></table> -->
							<!-- 								</div> -->
							<div class="ibox-content">
								<table
									style="width: 380px; height: 128px; border: 1px solid #E7EAEC"
									class="table-hover table-bordered">
									<tr th:each="bo, iterStat : ${price}">
										<td width="159" align="center" valign="middle"><span
											class="STYLE1">回款计划</span></td>
										<td width="211" align="center" valign="middle"
											th:text="${bo.price}  +元"></td>
									</tr>
									<tr th:each="bo, iterStat : ${receivedDO}">
										<td align="center" valign="middle"><span class="STYLE1">实际回款</span></td>
										<td align="center" valign="middle"
											th:text="${bo.sumReceivedPrice} +元"></td>
									</tr>
									<tr th:each="bo, iterStat : ${reimbursementRate}">
										<td align="center" valign="middle"><span class="STYLE1">回款率</span></td>
										<td align="center" valign="middle"
											th:text="${bo.reimbursementRate} +'%'"></td>
									</tr>
								</table>
							</div>
						</li>
						<li>
							<div class="ibox-title">
								<h3>
									<i class="glyphicon glyphicon-hdd"></i>相关信息
								</h3>
							</div>
							<div class="ibox-content">
								<label class="control-labe">业务信息</label>
								<table class="table table-bordered table-hover">
									<tr style="text-align: center;">
										<th>序号</th>
										<th>业务编号</th>
										<th>业务名称</th>
									</tr>
									<tr th:each="bo, iterStat : ${businessList}">
										<td align="center" th:text="${iterStat.count}"></td>
										<td align="center" th:text="${bo.businessId}"></td>
										<td align="center" th:text="${bo.businessName}"></td>
									</tr>
									<div class="columns pull-right">
										<button shiro:hasPermission="sales:business:add" type="button"
											class="btn  btn-primary" onclick="addBusiness()">
											<i class="fa fa-plus" aria-hidden="true"></i>新增
										</button>
										<button
											shiro:hasPermission="sales:companyCustomer:examineBusiness"
											type="button" class="btn  btn-success btn-sm"
											onclick="examineBusiness()" style="width: 65px; height: 34px">
											<i class="fa fa-search" aria-hidden="true"></i>更多
										</button>
									</div>
								</table>

							</div>
							<div class="ibox-content">
								<label class="control-labe">项目信息</label>
								<table class="table table-bordered table-hover">
									<tr style="text-align: center;">
										<th>序号</th>
										<th>项目编号</th>
										<th>项目名称</th>
										<th>项目经理</th>
									</tr>
									<tr th:each="bo, iterStat : ${projectList}">
										<td align="center" th:text="${iterStat.count}"></td>
										<td align="center" th:text="${bo.projectId}"></td>
										<td align="center" th:text="${bo.projectName}"></td>
										<td align="center" th:text="${bo.projectOwnerName}"></td>
									</tr>
									<div class="columns pull-right">
										<button shiro:hasPermission="project:project:add"
											type="button" class="btn  btn-primary" onclick="addProject()">
											<i class="fa fa-plus" aria-hidden="true"></i>新增
										</button>
										<button
											shiro:hasPermission="sales:companyCustomer:examineProject"
											type="button" class="btn  btn-success btn-sm"
											onclick="examineProject()" style="width: 65px; height: 34px">
											<i class="fa fa-search" aria-hidden="true"></i>更多
										</button>
									</div>
								</table>
							</div>
							<div class="ibox-content">
								<label class="control-labe">合同信息</label>
								<table class="table table-bordered table-hover">
									<tr style="text-align: center;">
										<th>序号</th>
										<th>合同编号</th>
										<th>合同名称</th>
										<th>合同金额</th>
									</tr>
									<tr th:each="bo, iterStat : ${contractList}">
										<td align="center" th:text="${iterStat.count}"></td>
										<td align="center" th:text="${bo.contractId}"></td>
										<td align="center" th:text="${bo.contractName}"></td>
										<td align="center" th:text="${bo.contractTotalPrice}"></td>
									</tr>
									<div class="columns pull-right">
										<button shiro:hasPermission="contract:contract:add"
											type="button" class="btn  btn-primary"
											onclick="addContract()">
											<i class="fa fa-plus" aria-hidden="true"></i>新增
										</button>
										<button
											shiro:hasPermission="sales:companyCustomer:examineContract"
											type="button" class="btn  btn-success btn-sm"
											onclick="examineContract()" style="width: 65px; height: 34px">
											<i class="fa fa-search" aria-hidden="true"></i>更多
										</button>
									</div>
								</table>
							</div>
						</li>
						<li>
							<div class="ibox-title">
								<h3>
									<i class="glyphicon glyphicon-credit-card"></i>费用信息
								</h3>
							</div>
							<div class="fixed-table-toolbar">
								<div class="ibox-content">
									<table style="height: 30px;">
										<tr style="text-align: center;">
										</tr>
										<tr th:each="bo, iterStat : ${purchaseApprovalStatus}">
											<td align="center"><h3
													style="padding-left: 100px; padding-top: 10px">
													已审批费用总额：<a href="#" th:text="${bo.totalprice}"
														onclick="examinePurchaseApprovalStatus()"></a>
												</h3></td>
										</tr>
									</table>
								</div>
							</div>
						</li>
						<li>
							<div class="ibox-title">
								<h3>
									<i class="glyphicon glyphicon-user"></i>联系人信息
								</h3>
							</div>
							<div class="ibox-content">
								<table class="table table-bordered table-hover">
									<tr style="text-align: center;">
										<th>序号</th>
										<th>姓名</th>
										<th>部门</th>
										<th>联系电话</th>
									</tr>
									<tr th:each="bo, iterStat : ${lianxiList}">
										<td align="center" th:text="${iterStat.count}"></td>
										<td align="center" th:text="${bo.contactName}"></td>
										<td align="center" th:text="${bo.contactDept}"></td>
										<td align="center" th:text="${bo.contactPhoneNumber}"></td>
									</tr>
									<div class="columns pull-right">
										<button shiro:hasPermission="sales:business:add" type="button"
											class="btn  btn-primary" onclick="addContact()">
											<i class="fa fa-plus" aria-hidden="true"></i>新增
										</button>
										<button
											shiro:hasPermission="sales:companyCustomer:examineContact"
											type="button" class="btn  btn-success btn-sm"
											onclick="examineContact()" style="width: 65px; height: 34px">
											<i class="fa fa-search" aria-hidden="true"></i>更多
										</button>
									</div>
								</table>
							</div>
						</li>
					</ol>
				</div>
			</div>
			<!--*******************************左侧客户详情块 **************************************************************-->
			<div class="col-sm-9">

				<div class="ibox float-e-margins">

					<!-- *********************左侧顶部编号块*************************** -->
					<div class="row">
						<div class="form-group">
							<label class="col-sm-2 control-label" style="width: 150xp">
								<h2
									style="width: 170px; color: black; font-weight: bolder; padding-left: 15px">企业客户编号</h2>
							</label>
							<div
								style="padding-left: 0px; padding-top: 22px; color: black; font-weight: bolder; font-size: 18px">
								<input id="customerId" name="customerId"
									th:value="${customerId}"
									style="border: none; width: 8%; background-color: #F5F5F5;"
									readonly="readonly">
							</div>
						</div>
					</div>
					<div class="ibox-content">

						<!--*************************左侧中部相关显示块********************************************************************** -->
						<form class="form-horizontal m-t" id="signupForm">

							<div class="form-group">
								<label class="col-sm-2 control-label">企业名称：</label>
								<div class="col-sm-4">
									<input id="customerName" name="customerName"
										readonly="readonly" class="form-control" type="text">
								</div>
								<label class="col-sm-2 control-label">预计成交金额：</label>
								<div class="col-sm-4">
									<input id="customerVolume" name="customerVolume"
										readonly="readonly" class="form-control" type="text">
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label"> 热点客户：</label>
								<div class="col-sm-4">
									<label class="radio-inline"> <input type="radio"
										disabled="disabled" id=customerHot name="customerHot"
										value="1" /> 是
									</label> <label class="radio-inline"> <input type="radio"
										disabled="disabled" id="customerHot" name="customerHot"
										value="0" checked="checked" /> 否
									</label>
								</div>
								<label class="col-sm-2 control-label"> 热度：</label>
								<div class="col-sm-4">
									<input id="customerHotRank" name="customerHotRank"
										readonly="readonly" class="form-control" type="text">
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label"> 热点客户分类：</label>
								<div class="col-sm-4">
									<input id="customerHotClassif" name="customerHotClassif"
										readonly="readonly" class="form-control" type="text">
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label"><span
									class="mustin">*&nbsp;</span>热点说明：</label>
								<div class="col-sm-10">
									<textarea id="customerHotDesc" name="customerHotDesc"
										readonly="readonly" class="form-control" rows="3"
										style="width: 100%"></textarea>
								</div>
							</div>


							<!--************************************左侧下部相关详情块*************************************************** -->
							<!-- tab标签 -->
							<ul id="myTab" class="nav nav-tabs">
								<li class="active"><a href="#baseInfo" data-toggle="tab"><span
										class="mustin">*&nbsp;</span>基本信息</a></li>
								<li><a href="#Organisation" data-toggle="tab">组织机构</a> <!-- 								<li><a href="#Hotspot" data-toggle="tab">热点情况</a></li> -->
								<li><a href="#Rechnungs" data-toggle="tab">开票信息 </a></li>
								<li><a href="#linkInfo" data-toggle="tab"><span
										class="mustin">*&nbsp;</span>联系方式</a></li>
								<li><a href="#Information" data-toggle="tab"><span
										class="mustin">*&nbsp;</span>生产信息 </a></li>
								<li><a href="#Energieve" data-toggle="tab">能耗 </a></li>
								<li><a href="#Zukunft" data-toggle="tab">未来规划 </a></li>
								<li><a href="#Gegner" data-toggle="tab">竞争对手 </a></li>
								<li><a href="#Custom" data-toggle="tab">自定义字段 </a></li>
							</ul>

							<div id="myTabContent" class="tab-content"
								style="padding-top: 20px">
								<div class="tab-pane fade in active" id="baseInfo">

									<div class="form-group">
										<!-- 										<label class="col-sm-2 control-label"><span class="mustin">*&nbsp;</span>企业行政区划：</label> -->
										<!-- 										<div class="col-sm-4"> -->
										<!-- 											<select data-placeholder="省" name="province" id="province" -->
										<!-- 												class="form-control chosen-select" tabindex="1"  -->
										<!-- 												style="width:32%"> -->
										<!-- 											</select>  -->
										<!-- 											<select data-placeholder="市" name="city" id="city" -->
										<!-- 												class="form-control chosen-select" tabindex="2"  -->
										<!-- 												style="width:32%"> -->
										<!-- 											</select>  -->
										<!-- 											<select data-placeholder="区" name="area" id="area" -->
										<!-- 												class="form-control chosen-select" tabindex="3"  -->
										<!-- 												style="width:32%"> -->
										<!-- 											</select> -->
										<!-- 										</div> -->

										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>企业名称：</label>
										<div class="col-sm-4">
											<input id="customerName" name="customerName"
												readonly="readonly" class="form-control" type="text">
										</div>
										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>助记简称：</label>
										<div class="col-sm-4">
											<input id="customerSimpleName" name="customerSimpleName"
												readonly="readonly" class="form-control" type="text">
										</div>
									</div>

									<div class="form-group">

										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>客户所有者：</label>
										<div class="col-sm-4">
											<select data-placeholder="请选择" name="customerOwner"
												disabled="true" id="customerOwner"
												class="form-control chosen-select" tabindex="2"
												style="width: 100%">
												<option value="">请选择
							</option>
											</select>
										</div>
										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>销售负责人：</label>
										<div class="col-sm-4">
											<select data-placeholder="请选择" name="customerSales"
												disabled="true" id="customerSales"
												class="form-control chosen-select" tabindex="2"
												style="width: 100%">
												<option value="">请选择</option>
											</select>
										</div>
									</div>

									<div class="form-group">
										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>产品需求：</label>
										<div class="col-sm-4">
											<select data-placeholder="请选择" name="customerProduct"
												disabled="true" id="customerProduct"
												class="form-control chosen-select" tabindex="2"
												style="width: 100%">
												<option value="">请选择</option>
											</select>
										</div>
										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>客户类别：</label>
										<div class="col-sm-4">
											<select data-placeholder="请选择" name="customerCategory"
												disabled="true" id="customerCategory"
												class="form-control chosen-select" tabindex="2"
												style="width: 100%">
												<option value="">请选择</option>
											</select>
										</div>
									</div>

									<div class="form-group">

										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>企业性质：</label>
										<div class="col-sm-4">
											<select data-placeholder="请选择" name="customerCharacter"
												disabled="true" id="customerCharacter"
												class="form-control chosen-select" tabindex="2"
												style="width: 100%">
												<option value="">请选择</option>
											</select>
										</div>
										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>客户状态：</label>
										<div class="col-sm-4">
											<select data-placeholder="请选择" name="customerStatus"
												disabled="true" id="customerStatus"
												class="form-control chosen-select" tabindex="2"
												style="width: 100%">
												<option value="">请选择</option>
											</select>
										</div>

									</div>

									<div class="form-group">

										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>客户级别：</label>
										<div class="col-sm-4">
											<select data-placeholder="请选择" name="customerLevel"
												disabled="true" id="customerLevel"
												class="form-control chosen-select" tabindex="2"
												style="width: 100%">
												<option value="">请选择</option>
											</select>
										</div>
										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>销售阶段：</label>
										<div class="col-sm-4">
											<select data-placeholder="请选择" name="customerSalePhase"
												disabled="true" id="customerSalePhase"
												class="form-control chosen-select" tabindex="2"
												style="width: 100%">
												<option value="">请选择</option>
											</select>
										</div>

									</div>

									<div class="form-group">

										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>客户内部阶段：</label>
										<div class="col-sm-4">
											<select data-placeholder="请选择" name="customerInnerPhase"
												disabled="true" id="customerInnerPhase"
												class="form-control chosen-select" tabindex="2"
												style="width: 100%">
												<option value="">请选择</option>
											</select>
										</div>
										<label class="col-sm-2 control-label">来源：</label>
										<div class="col-sm-4">
											<select data-placeholder="请选择" name="customerSource"
												disabled="true" id="customerSource"
												class="form-control chosen-select" tabindex="2"
												style="width: 100%">
												<option value="">请选择</option>
											</select>
										</div>
									</div>

									<div class="form-group">
										<label class="col-sm-2 control-label">行业：</label>
										<div class="col-sm-4">
											<input id="customerIndustry" name="customerIndustry"
												readonly="readonly" class="form-control" type="text">
										</div>
										<label class="col-sm-2 control-label">人员规模：</label>
										<div class="col-sm-4">
											<input id="customerStaffSize" name="customerStaffSize"
												readonly="readonly" class="form-control" type="text">
										</div>
									</div>

									<div class="form-group">
										<label class="col-sm-2 control-label">信用等级：</label>
										<div class="col-sm-4">
											<select data-placeholder="请选择" name="customerCreditRank"
												disabled="true" id="customerCreditRank"
												class="form-control chosen-select" tabindex="2"
												style="width: 100%">
												<option value="">请选择</option>
											</select>
										</div>
										<label class="col-sm-2 control-label">客户潜力：</label>
										<div class="col-sm-4">
											<select data-placeholder="请选择" name="customerPotential"
												disabled="true" id="customerPotential"
												class="form-control chosen-select" tabindex="2"
												style="width: 100%">
												<option value="">请选择</option>
											</select>
										</div>
									</div>

									<div class="form-group">
										<label class="col-sm-2 control-label">员工数量：</label>
										<div class="col-sm-4">
											<input id="customerEmpNumber" name="customerEmpNumber"
												readonly="readonly" class="form-control" type="text">
										</div>
										<!-- 										<label class="col-sm-2 control-label"><span -->
										<!-- 											class="mustin">*&nbsp;</span>上级单位：</label> -->
										<!-- 										<div class="col-sm-4"> -->
										<!-- 											<input id="customerParent" name="customerParent" readonly="readonly"" -->
										<!-- 												class="form-control" type="text"> -->
										<!-- 										</div> -->

										<label class="col-sm-2 control-label">拜访交通方式：</label>
										<div class="col-sm-4">
											<select data-placeholder="请选择" name="customerVisitMode"
												disabled="true" id="customerVisitMode"
												class="form-control chosen-select" tabindex="2"
												style="width: 100%">
												<option value="">请选择</option>
											</select>
										</div>
									</div>

									<div class="form-group">

										<label class="col-sm-2 control-label">旧客户编号：</label>
										<div class="col-sm-4">
											<input id="customerOldId" name="customerOldId"
												readonly="readonly" class="form-control" type="text">
										</div>

									</div>
									<div class="form-group">
										<label class="col-sm-2 control-label">需求调研附件：</label>
										<div class="col-sm-4">
											<button
												shiro:hasPermission="sales:companyCustomer:companyCustomer"
												onclick="window.open('/sales/companyCustomer/downLoadZipFile?id='+$('#customerAttachment').val())" type="button" class="btn btn-danger ">
												<i class="glyphicon glyphicon-cloud-download"></i>下载全部附件
											</button>
<!-- 											&nbsp;<span style="color: #000000">共</span><input -->
<!-- 												id="fileSizeString" readonly="readonly" -->
<!-- 												style="border: none; width: 20%; background-color: #FFFFFF;"> -->
										</div>
										<input class="form-control" th:value="${customerAttachment}"
													id="customerAttachment" name="customerAttachment"
													type="hidden">

									</div>
									<!--***************文件显示*************************** -->
									<div class="form-group" id="app" >
									<label class="col-sm-2 control-label"></label>
										<div class="col-sm-10 animated fadeInRight">
											<div class="row">
												<div class="col-sm-12">
													<div class="file-box" v-for="row in rows" >
														<div class="file">
<!-- 															<a > <span class="corner"></span> -->
																<div class="image" >
																	<img alt="文件" class="img-responsive" :src="row.url">
																</div>
																<div class="file-name">
																	<br /> <small>{{row.fileName}}</small>
																	<br /> <small>{{row.createDate}}</small>
																</div> &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;
																<button class="btn btn-warning btn-xs "
																	@click="window.open('/sales/companyCustomer/down?fileName='+row.fileName)" type="button">下载</button>
<!-- 																	&nbsp; &nbsp; &nbsp; &nbsp; -->
<!-- 																<button class="btn btn-danger btn-xs" -->
<!-- 																	@click="removeFile(row.id)" type="button">删除</button> -->
<!-- 															</a> -->
														</div>
													</div>
													<div id="incomeNum"></div>
												</div>
											</div>
											<div>
												<ul id="page"></ul>
											</div>
										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-2 control-label">需求简要描述：</label>
										<div class="col-sm-10">
											<textarea id="customerReqDes" name="customerReqDes"
												readonly="readonly" class="form-control" rows="3"
												style="width: 100%"></textarea>

										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-2 control-label">公司简介：</label>
										<div class="col-sm-10">
											<textarea id="customerIntroduction" readonly="readonly"
												name="customerIntroduction" class="form-control"
												style="width: 100%" rows="3"></textarea>

										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-2 control-label">备注：</label>
										<div class="col-sm-10">
											<textarea id="customerRemarks" name="customerRemarks"
												readonly="readonly" class="form-control" rows="3"
												style="width: 100%"></textarea>

										</div>
									</div>
								</div>

								<!--******************************* 组织机构************************************************************************** -->




								<div class="tab-pane fade" id="Organisation">
									<!-- 								子公司 -->
									<div class="wrapper wrapper-content ">
										<div class="col-sm-12">
											<div class="ibox">
												<div class="ibox-body">
													<div class="fixed-table-toolbar">
														<div class="columns pull-left">
															<button
																shiro:hasPermission="sales:customerChildCompany:add"
																type="button" class="btn  btn-primary"
																onclick="addChild()">
																<i class="fa fa-plus" aria-hidden="true"></i>添加
															</button>
															<button
																shiro:hasPermission="sales:customerChildCompany:batchRemove"
																type="button" class="btn  btn-danger"
																onclick="batchRemoveChild()">
																<i class="fa fa-trash" aria-hidden="true"></i>删除
															</button>
														</div>
													</div>
													<table id="childTable" data-mobile-responsive="true">
													</table>
												</div>
											</div>
										</div>
										<!--shiro控制bootstraptable行内按钮看见性 来自bootdo的创新方案 -->
										<div>
											<script type="text/javascript">
											var s_edit_h = 'hidden';
											var s_remove_h = 'hidden';
											var s_resetPwd_h = 'hidden';
											var s_detailed_information_h = 'hidden';
										</script>
										</div>
										<div shiro:hasPermission="sales:customerChildCompany:edit">
											<script type="text/javascript">
											s_edit_h = '';
										</script>
										</div>
										<div
											shiro:hasPermission="sales:customerChildCompany:batchRemove">
											<script type="text/javascript">
											var s_remove_h = '';
										</script>
										</div>
										<div shiro:hasPermission="sales:customerChildCompany:resetPwd">
											<script type="text/javascript">
											var s_resetPwd_h = '';
										</script>
										</div>
									</div>
									<!--******************************* 岗位 *********************************************************************************************-->
									<div class="wrapper wrapper-content ">
										<div class="col-sm-12">
											<div class="ibox">
												<div class="ibox-body">
													<div class="fixed-table-toolbar">
														<div class="columns pull-left">
															<button shiro:hasPermission="sales:customerJob:add"
																type="button" class="btn  btn-primary"
																onclick="addJob()">
																<i class="fa fa-plus" aria-hidden="true"></i>添加
															</button>
															<button
																shiro:hasPermission="sales:customerJob:batchRemove"
																type="button" class="btn  btn-danger"
																onclick="batchRemoveJob()">
																<i class="fa fa-trash" aria-hidden="true"></i>删除
															</button>
														</div>

													</div>
													<table id="jobTable" data-mobile-responsive="true">
													</table>
												</div>
											</div>
										</div>
										<!--shiro控制bootstraptable行内按钮看见性 来自bootdo的创新方案 -->
										<div>
											<script type="text/javascript">
											var s_edit_h = 'hidden';
											var s_remove_h = 'hidden';
											var s_resetPwd_h = 'hidden';
										</script>
										</div>
										<div shiro:hasPermission="sales:customerJob:edit">
											<script type="text/javascript">
											s_edit_h = '';
										</script>
										</div>
										<div shiro:hasPermission="sales:customerJob:batchRemove">
											<script type="text/javascript">
											var s_remove_h = '';
										</script>
										</div>
										<div shiro:hasPermission="sales:customerJob:resetPwd">
											<script type="text/javascript">
											var s_resetPwd_h = '';
										</script>
										</div>
									</div>

									<!--******************************* 部门 ********************************************************************************************* -->

									<div class="wrapper wrapper-content ">
										<div class="col-sm-12">
											<div class="ibox">
												<div class="ibox-body">
													<div class="fixed-table-toolbar">
														<div class="columns pull-left">
															<button shiro:hasPermission="sales:customerDept:add"
																type="button" class="btn  btn-primary"
																onclick="addDept()">
																<i class="fa fa-plus" aria-hidden="true"></i>添加
															</button>
															<button
																shiro:hasPermission="sales:customerDept:batchRemove"
																type="button" class="btn  btn-danger"
																onclick="batchRemoveDept()">
																<i class="fa fa-trash" aria-hidden="true"></i>删除
															</button>
															<button
																shiro:hasPermission="sales:customerDept:detailed_information"
																type="button" class="btn btn-success"
																onclick="detailedInformation()">
																<i class="fa fa-detailed_information" aria-hidden="true"></i>结构详情
															</button>
														</div>
														<!-- 				<div class="columns pull-right">

																	<button class="btn btn-success" onclick="reLoad()">查询</button>
																</div>
																<div class="columns pull-right col-md-2 nopadding">
																	<input id="searchName" type="text" class="form-control"
																		placeholder="">
																</div>
																 -->
													</div>
													<table id="exampleDeptTable" data-mobile-responsive="true"></table>
												</div>
											</div>
										</div>
										<!--shiro控制bootstraptable行内按钮看见性 来自bootdo的创新方案 -->
										<div>
											<script type="text/javascript">
											var s_edit_h = 'hidden';
											var s_remove_h = 'hidden';
											var s_resetPwd_h = 'hidden';
										</script>
										</div>
										<div shiro:hasPermission="sales:customerDept:edit">
											<script type="text/javascript">
											s_edit_h = '';
										</script>
										</div>
										<div shiro:hasPermission="sales:customerDept:remove">
											<script type="text/javascript">
											var s_remove_h = '';
										</script>
										</div>
										<div shiro:hasPermission="sales:customerDept:resetPwd">
											<script type="text/javascript">
											var s_resetPwd_h = '';
										</script>
										</div>
									</div>
								</div>
								<!--******************************* 热点情况 *********************************************************************************************-->
								<!-- 								<div class="tab-pane fade" id="Hotspot"> -->

								<!-- 									<div class="form-group"> -->
								<!-- 										<label class="col-sm-2 control-label"><span -->
								<!-- 											class="mustin">*&nbsp;</span>热点客户：</label> -->
								<!-- 										<div class="col-sm-4"> -->
								<!-- 											<label class="radio-inline"> <input type="radio" -->
								<!-- 												disabled="disabled" id=customerHot name="customerHot" -->
								<!-- 												value="1" /> 是 -->
								<!-- 											</label> <label class="radio-inline"> <input type="radio" -->
								<!-- 												disabled="disabled" id="customerHot" name="customerHot" -->
								<!-- 												value="0" checked="checked" /> 否 -->
								<!-- 											</label> -->
								<!-- 										</div> -->


								<!-- 										<label class="col-sm-2 control-label"><span -->
								<!-- 											class="mustin">*&nbsp;</span>热度：</label> -->
								<!-- 										<div class="col-sm-4"> -->
								<!-- 											<select data-placeholder="请选择" name="customerHotRank" -->
								<!-- 												disabled="true" id="customerHotRank" -->
								<!-- 												class="form-control chosen-select" tabindex="2" -->
								<!-- 												style="width: 100%"> -->
								<!-- 											</select> -->
								<!-- 										</div> -->
								<!-- 									</div> -->
								<!-- 									<div class="form-group"> -->
								<!-- 										<label class="col-sm-2 control-label"><span -->
								<!-- 											class="mustin">*&nbsp;</span>预期成交金额：</label> -->
								<!-- 										<div class="col-sm-4"> -->
								<!-- 											<input id="customerVolume" name="customerVolume" -->
								<!-- 												readonly="readonly" class="form-control" type="text"> -->
								<!-- 										</div> -->

								<!-- 										<label class="col-sm-2 control-label"><a -->
								<!-- 											style="color: red; font-size: 14px">*&nbsp;</a>热点客户分类：</label> -->
								<!-- 										<div class="col-sm-4"> -->
								<!-- 											<select data-placeholder="请选择" name="customerHotClassif" -->
								<!-- 												id="customerHotClassif" class="form-control chosen-select" -->
								<!-- 												tabindex="2" style="width: 100%"> -->
								<!-- <option value="">请选择</option> -->
								<!-- 											</select> -->
								<!-- 										</div> -->
								<!-- 									</div> -->
								<!-- 																	<div class="form-group"> -->
								<!-- 																		<label class="col-sm-2 control-label"><span -->
								<!-- 																			class="mustin">*&nbsp;</span>热点说明：</label> -->
								<!-- 																		<div class="col-sm-8"> -->
								<!-- 																			<input id="customerHotDesc" name="customerHotDesc" -->
								<!-- 																				readonly="readonly" class="form-control" type="text"> -->
								<!-- 																		</div> -->
								<!-- 																	</div> -->

								<!-- 								</div> -->
								<!-- 开票信息 -->
								<div class="tab-pane fade" id="Rechnungs">
									<div class="form-group">
										<label class="col-sm-2 control-label">开票名称：</label>
										<div class="col-sm-4">
											<input id="customerInvoiceName" name="customerInvoiceName"
												readonly="readonly" class="form-control" type="text">
										</div>


										<label class="col-sm-2 control-label">纳税人税号：</label>
										<div class="col-sm-4">
											<input id="customerTaxNumber" name="customerTaxNumber"
												readonly="readonly" class="form-control" type="text">
										</div>
									</div>

									<div class="form-group">
										<label class="col-sm-2 control-label">开户行：</label>
										<div class="col-sm-4">
											<input id="customerBank" name="customerBank"
												readonly="readonly" class="form-control" type="text">
										</div>


										<label class="col-sm-2 control-label">账号：</label>
										<div class="col-sm-4">
											<input id="customerAccountNum" name="customerAccountNum"
												readonly="readonly" class="form-control" type="text">
										</div>
									</div>
								</div>
								<!--******************************* 联系方式********************************************************************************************* -->
								<div class="tab-pane fade" id="linkInfo">
									<div class="form-group">
										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>联系情况：</label>
										<div class="col-sm-4">
											<select data-placeholder="请选择" name="customerContactSta"
												disabled="true" id="customerContactSta"
												class="form-control chosen-select" tabindex="2"
												style="width: 100%">
											</select>
										</div>


										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>企业办公地址：</label>
										<div class="col-sm-4">
											<input id="customerAddress" name="customerAddress"
												readonly="readonly" class="form-control" type="text">
										</div>
									</div>

									<div class="form-group">
										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>电话号码：</label>
										<div class="col-sm-4">
											<input id="customerPhoneNum" name="customerPhoneNum"
												readonly="readonly" class="form-control" type="text">
										</div>


										<label class="col-sm-2 control-label">传真：</label>
										<div class="col-sm-4">
											<input id="customerFax" name="customerFax"
												readonly="readonly" class="form-control" type="text">
										</div>
									</div>

									<div class="form-group">
										<label class="col-sm-2 control-label">邮编：</label>
										<div class="col-sm-4">
											<input id="customerPostcode" name="customerPostcode"
												readonly="readonly" class="form-control" type="text">
										</div>


										<label class="col-sm-2 control-label">官网地址：</label>
										<div class="col-sm-4">
											<input id="customerUrl" name="customerUrl"
												readonly="readonly" class="form-control" type="text">
										</div>
									</div>


									<div class="form-group">
										<label class="col-sm-2 control-label">企业邮箱：</label>
										<div class="col-sm-4">
											<input id="customerMailbox" name="customerMailbox"
												readonly="readonly" class="form-control" type="text">
										</div>



										<label class="col-sm-2 control-label">企业负责人：</label>
										<div class="col-sm-4">
											<input id="customerLeader" name="customerLeader"
												readonly="readonly" class="form-control" type="text">
										</div>
									</div>

									<div class="form-group">
										<label class="col-sm-2 control-label">职务：</label>
										<div class="col-sm-4">
											<input id="customerJobTitle" name="customerJobTitle"
												readonly="readonly" class="form-control" type="text">
										</div>
									</div>
								</div>

								<!--******************************* 生产信息*********************************************************************************************-->


								<div class="tab-pane fade" id="Information">
									<div class="form-group">
										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>收费收缴率：</label>
										<div class="col-sm-4">
											<input id="customerPaymentRate" name="customerPaymentRate"
												readonly="readonly" class="form-control" type="text">
										</div>



										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>企业占全市热化率：</label>
										<div class="col-sm-4">
											<input id="customerHeatingShare" name="customerHeatingShare"
												readonly="readonly" class="form-control" type="text">
										</div>
									</div>

									<div class="form-group">
										<label class="col-sm-2 control-label"><span
											class="mustin">*&nbsp;</span>投诉率：</label>
										<div class="col-sm-4">
											<input id="customerComplaintRate" readonly="readonly"
												name="customerComplaintRate" class="form-control"
												type="text">
										</div>



										<label class="col-sm-2 control-label">供热面积：</label>
										<div class="col-sm-4">
											<input id="customerHeatingArea" name="customerHeatingArea"
												readonly="readonly" class="form-control" type="text">
										</div>
									</div>

									<div class="form-group">
										<label class="col-sm-2 control-label">热力站数量：</label>
										<div class="col-sm-4">
											<input id="customerHeatingSourceNumber"
												name="customerHeatingSourceNumber" class="form-control"
												readonly="readonly" type="text">
										</div>


										<label class="col-sm-2 control-label">蒸汽面积：</label>
										<div class="col-sm-4">
											<input id="customerSteamArea" name="customerSteamArea"
												readonly="readonly" class="form-control" type="text">
										</div>
									</div>

									<div class="form-group">
										<label class="col-sm-2 control-label">热水面积：</label>
										<div class="col-sm-4">
											<input id="customerHotWaterArea" name="customerHotWaterArea"
												readonly="readonly" class="form-control" type="text">
										</div>


										<label class="col-sm-2 control-label">自有热源：</label>
										<div class="col-sm-4">
											<input id="customerOwnHeatingSource"
												name="customerOwnHeatingSource" class="form-control"
												readonly="readonly" type="text">
										</div>
									</div>

									<div class="form-group">
										<label class="col-sm-2 control-label">外购热源：</label>
										<div class="col-sm-4">
											<input id="customerOutHeatingSource"
												name="customerOutHeatingSource" class="form-control"
												readonly="readonly" type="text">
										</div>
									</div>
								</div>


								<!--******************************* 能耗 *********************************************************************************************-->


								<div class="tab-pane fade" id="Energieve">

									<div class="form-group">
										<label class="col-sm-2 control-label">热耗：</label>
										<div class="col-sm-4">
											<input id="customerHeatLoss" name="customerHeatLoss"
												readonly="readonly" class="form-control" type="text">
										</div>


										<label class="col-sm-2 control-label">水耗：</label>
										<div class="col-sm-4">
											<input id="customerWaterLoss" name="customerWaterLoss"
												readonly="readonly" class="form-control" type="text">
										</div>
									</div>

									<div class="form-group">
										<label class="col-sm-2 control-label">电耗：</label>
										<div class="col-sm-4">
											<input id="customerElectrickLoss" readonly="readonly"
												name="customerElectrickLoss" class="form-control"
												type="text">
										</div>
									</div>

								</div>






								<!--******************************* 未来规划  *********************************************************************************************-->


								<div class="tab-pane fade" id="Zukunft">

									<div class="form-group">
										<label class="col-sm-3 control-label">未来一年新增规划：</label>
										<div class="col-sm-8">
											<textarea id="customerPlanOneYear" name="customerPlanOneYear"
												readonly="readonly" class="form-control" rows="3"></textarea>

										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">未来两年新增规划：</label>
										<div class="col-sm-8">
											<textarea id="customerPlanTowYear" name="customerPlanTowYear"
												readonly="readonly" class="form-control" rows="3"></textarea>

										</div>
									</div>
									<div class="form-group">
										<label class="col-sm-3 control-label">未来三年新增规划：</label>
										<div class="col-sm-8">
											<textarea id="customerPlanThreeYear" readonly="readonly"
												name="customerPlanThreeYear" class="form-control" rows="3"></textarea>

										</div>
									</div>

								</div>








								<!--******************************* 竞争对手   ********************************************************************************************* -->



								<div class="tab-pane fade" id="Gegner">
									<div class="wrapper wrapper-content ">
										<div class="col-sm-12">
											<div class="ibox">
												<div class="ibox-body">
													<div class="fixed-table-toolbar">
														<div class="columns pull-left">
															<button shiro:hasPermission="sales:competitor:add"
																type="button" class="btn  btn-primary"
																onclick="addCompetitor()">
																<i class="fa fa-plus" aria-hidden="true"></i>添加
															</button>
															<button
																shiro:hasPermission="sales:competitor:batchRemove"
																type="button" class="btn  btn-danger"
																onclick="batchRemoveCompetitor()">
																<i class="fa fa-trash" aria-hidden="true"></i>删除
															</button>
														</div>
													</div>
													<table id="competitorTable" data-mobile-responsive="true"></table>
												</div>
											</div>
											<!-- 										</div> -->
											<!-- 									</div> -->
											<!--shiro控制bootstraptable行内按钮看见性 来自bootdo的创新方案 -->
											<div>
												<script type="text/javascript">
												var s_edit_h = 'hidden';
												var s_remove_h = 'hidden';
												var s_resetPwd_h = 'hidden';
											</script>
											</div>
											<div shiro:hasPermission="sales:competitor:edit">
												<script type="text/javascript">
												s_edit_h = '';
											</script>
											</div>
											<div shiro:hasPermission="sales:competitor:batchRemove">
												<script type="text/javascript">
												var s_remove_h = '';
											</script>
											</div>
											<div shiro:hasPermission="sales:competitor:resetPwd">
												<script type="text/javascript">
												var s_resetPwd_h = '';
											</script>
											</div>
										</div>
									</div>
								</div>
								<!--*******************************自定义字段  *********************************************************************************************-->
								<div class="tab-pane fade" id="Custom">
									<div class="ibox">
										<div class="ibox-body">
											<table id="listCustomField" data-mobile-responsive="true">
											</table>
										</div>
									</div>
								</div>
							</div>

							<div class="form-group">
								<label class="col-sm-2 control-label">主送人：</label>
								<div class="col-sm-8">
									<input id="mainPersonId" name="mainPersonId" type="hidden">
									<input id="isMainPerson" name="isMainPerson" type="hidden">
									<div style="float: left;" id="sendPerson"></div>
									<div style="float: left;">
										<button disabled="disabled" type="button"
											class="btn btn-danger btn-xs" id="sendPersonBtn"
											var="sendPersonBtn"
											style="border-radius: 100%; margin-top: 5px; margin-left: 10px"
											onclick="addSendPerson()">
											<span class="glyphicon glyphicon-plus"></span>
										</button>
									</div>
								</div>
							</div>
							<div class="form-group">
								<label class="col-sm-2 control-label">抄送人：</label>
								<div class="col-sm-8">
									<input id="copyPersonId" name="copyPersonId" type="hidden">
									<input id="isCopyPerson" name="isCopyPerson" type="hidden">
									<div style="float: left;" id="receivePerson"></div>
									<div style="float: left;">
										<button disabled="disabled" type="button"
											class="btn btn-danger btn-xs" id="receivePersonBtn"
											var="receivePersonBtn"
											style="border-radius: 100%; margin-top: 5px; margin-left: 10px"
											onclick="addRecivePerson()">
											<span class="glyphicon glyphicon-plus"></span>
										</button>
									</div>
								</div>
							</div>

							<div class="form-group ">
								<div class="col-sm-8 col-sm-offset-8 ">
									<button type="button" class="btn btn-primary" id="lastBtn"
										disabled="true"
										onclick="lastStep('myTab',10,'lastBtn','nextBtn')">上一步</button>
									<button type="button" class="btn btn-primary" id="nextBtn"
										onclick="nextStepThis('myTab',10,'lastBtn','nextBtn')">下一步</button>
									<button type="button" class="btn btn-danger"
										onclick="closeWin()">取消</button>
								</div>
							</div>


						</form>
					</div>

				</div>
			</div>
		</div>

	</div>
	<div th:include="include::footer"></div>
	<script type="text/javascript" src="/js/provinceCustomer.js"></script>
	<!-- 部门 -->
	<script type="text/javascript"
		src="/js/appjs/sales/companyCustomer/customerDept.js"></script>
	<!-- 	岗位 -->
	<script type="text/javascript"
		src="/js/appjs/sales/companyCustomer/customerJob.js"></script>
	<!-- 	竞争对手 -->
	<script type="text/javascript"
		src="/js/appjs/sales/companyCustomer/competitor.js"></script>
	<script type="text/javascript" src="/js/province.js"></script>
	<!-- 	子公司 -->
	<script type="text/javascript"
		src="/js/appjs/sales/companyCustomer/customerChild.js"></script>

	<script type="text/javascript"
		src="/js/appjs/sales/companyCustomer/companyCustomer.js"></script>
	<!-- 详情 -->
	<script type="text/javascript"
		src="/js/appjs/sales/companyCustomer/examineCompanyCustomer.js"></script>
	<!-- 	业务信息 -->
	<script type="text/javascript"
		src="/js/appjs/sales/business/business.js"></script>
	<!-- 	项目信息 -->
	<script type="text/javascript"
		src="/js/appjs/project/project/project.js"></script>
	<!-- 联系人信息 -->
	<script type="text/javascript"
		src="/js/appjs/sales/customerContact/customerContact.js"></script>

	<!-- 	<script type="text/javascript" -->
	<!-- 		src="/js/appjs/common/mainCopyPerson/mainPersonAndCopyPerson.js"></script> -->
	<script type="text/javascript"
		src="/js/appjs/approval/purchase/examinePurchase.js"></script>

	<!-- 全局js -->
<!-- 	<script src="/js/jquery.min.js?v=2.1.4"></script> -->
	<script src="/js/bootstrap.min.js?v=3.3.6"></script>
	<script src="/js/bootstrap-paginator.min.js"></script>

	<script src="/js/content.js?v=1.0.0"></script>
	<script src="/js/layui.js"></script>
	<script src="/js/plugins/clipboard/clipboard.min.js"></script>
	<script src="/js/plugins/layer/layer.min.js"></script>
	<script src="/js/vue.min.js"></script>
	<script type="text/javascript">
	//************* 文件下载级显示 *********************************************************
	 	 var app = new Vue({
	        el: '#app',
	        data: {
	            limit: 10000,
	            offset: 0,
	            total: 0,
	            file: '',
	            type: '',
	            rows: '',
	            customerId:$("#customerId").val(),
	        },
	        methods: {
	            getData: function () {
	                $.getJSON("/sales/companyCustomer/listId", {
	                	limit: this.limit,
	                    offset: this.offset,
	                    type: this.type,
	                    customerId:this.customerId
	                }, function (r) {
	                    app.total = r.total;
	                    app.rows = r.rows;
// 	                    app.page();
	                });

	            },
	            page: function () {
	                var options = {
	                    currentPage: app.offset / 4 + 1, //当前页
	                    totalPages: app.total / (4 + 1) + 1, //总页数
	                    numberofPages: 4, //显示的页数
	                    bootstrapMajorVersion: 3,
	                    alignment: 'center',
	                    size: 'large',
	                    shouldShowPage: true,
	                    itemTexts: function (type, page, current) { //修改显示文字
	                        switch (type) {
	                            case "first":
	                                return "首页";
	                            case "prev":
	                                return "上一页";
	                            case "next":
	                                return "下一页";
	                            case "last":
	                                return "尾页";
	                            case "page":
	                                return page;
	                        }
	                    },
	                    onPageClicked: function (event, originalEvent, type, page) {
	                        app.offset = (page - 1) * 4;
	                        app.getData();
	                    }
	                };
	                $('#page').bootstrapPaginator(options);
	            },
	            removeFile: function (id) {
	                layer.confirm('确定要删除选中的记录？', {
	                    btn: ['确定', '取消']
	                }, function () {
	                    $.ajax({
	                        url: "/common/sysFile/remove",
	                        type: "post",
	                        data: {
	                            'id': id
	                        },
	                        success: function (r) {
	                            if (r.code == 0) {
	                                layer.msg(r.msg);
	                                app.getData();
	                            } else {
	                                layer.msg(r.msg);
	                            }
	                        }
	                    });
	                })

	            }
	        },
	        created: function () {
	            this.getData();
	        }
	    });
//********************** END *************************************
	</script>
</body>
</html>
